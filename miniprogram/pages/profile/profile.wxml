<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card">
    <view wx:if="{{isLoggedIn && userInfo}}" class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill" />
      <view class="user-details">
        <text class="nickname">{{userInfo.nickName || '未设置昵称'}}</text>
        <text class="role">{{userInfo.role === 'admin' ? '管理员' : '普通用户'}}</text>
      </view>
    </view>
    <view wx:else class="login-prompt">
      <text>请先登录</text>
      <button class="login-btn" bindtap="onLogin">立即登录</button>
    </view>
  </view>

  <!-- 功能列表 -->
  <view wx:if="{{isLoggedIn}}" class="menu-list">
    <view class="menu-item" wx:if="{{userInfo.role === 'admin'}}">
      <text class="menu-label">管理员功能</text>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="onLogout">
      <text class="menu-label">退出登录</text>
      <text class="menu-arrow">></text>
    </view>
  </view>
</view>

